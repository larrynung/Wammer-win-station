(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define(["underscore","backbone","lib/backbone/localstorage"],function(t,n,r){var i;return i=function(){function n(){this.sync=e(this.sync,this)}return n.prototype.sync=function(e,t,n){var r,i;r=!1,i=this.getSchemaName(t);switch(e){case"create":Logger.log("create was not happen");break;case"read":r=t.id?this.find(schema,t.id):this.findAll(schema);if(!r)return n.error("Not found.");break;case"destroy":r=!0}return r?n.success(r):n.error("Unknow error.")},n.prototype.find=function(e,t){return this.data[e]&&this.data[e][t]},n.prototype.findAll=function(e){return t.values(this.data[e]||[])},n.prototype.getSchemaName=function(e){if(e.schemaName)return e.schemaName;if(e.collection&&e.collection.schemaName)return e.collection.schemaName},n}()})}).call(this);