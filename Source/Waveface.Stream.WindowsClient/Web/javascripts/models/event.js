(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["underscore","backbone","moment"],function(e,n,r){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.detailFetchStatus=!1,i.prototype.initialize=function(){return this.setDate(),this.setCover(),this.setSwitch(),this},i.prototype.setDate=function(){var e;return e=this.get("timestamp"),e?(this.set("date",r(e).format("M/D hh:mm a")),this.set("time",r(e).format("ddd hh:mm a")),this.set("dateUri",r(e).format("YYYY-MM-DD"))):!1},i.prototype.setCover=function(){var t,n;return n=this.get("summary_attachments"),n==null?!1:(t=e(n).first(),t==null?!1:(t.image_meta=t.meta_data,this.set("cover",t)))},i.prototype.setSwitch=function(){return this.set("hasDescription",!!this.get("event_description")),this.set("hasPeople",!!this.get("people")),this.set("hasTags",!!this.get("tags")),this.get("attachment_count")>0&&this.set("hasPhoto",!0),this.get("location")&&this.set("gps",this.get("location")),!this.get("gps")||this.get("gps").latitude===0||this.get("gps").longitude===0?(this.set("hasLocation",!1),this.set("hasMap",!1)):(this.set("hasLocation",!!this.get("gps").name),this.set("hasMap",!!this.get("gps").zoom_level))},i}(n.Model)})}).call(this);