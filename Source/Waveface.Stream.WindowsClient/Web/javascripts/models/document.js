(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["underscore","backbone","moment"],function(e,n,r){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.baseRatio=1,i.prototype.potraitRatio=2/3,i.prototype.landscapeRatio=1.5,i.prototype.initialize=function(){return this.setDate(),this.setTruncatedName(),this.setOrientation()},i.prototype.setDate=function(){var e;return e=this.get("timestamp"),e?this.set("dateUri",r(e).format("YYYY-MM-DD")):!1},i.prototype.setTruncatedName=function(){return this.set("truncated_name",e.str.truncate(this.get("file_name"),32))},i.prototype.setOrientation=function(){var e,t,n;return t=this.get("meta_data"),n=t.width/t.height,n<this.baseRatio?(this.set("orientation","potrait"),e=this.potraitRatio):(this.set("orientation","landscape"),e=this.landscapeRatio),n>=e?this.set("fill","height"):this.set("fill","width")},i}(n.Model)})}).call(this);