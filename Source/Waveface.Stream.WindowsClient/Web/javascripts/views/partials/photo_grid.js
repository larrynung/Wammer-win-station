(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["underscore","backbone","mustache","text!templates/photos.html","text!templates/photos/grid_LLL.html","text!templates/photos/grid_LPP.html","text!templates/photos/grid_PLP.html","text!templates/photos/grid_PPL.html","text!templates/photos/grid_LLPP.html","text!templates/photos/grid_PPLL.html","text!templates/photos/grid_6S.html","text!templates/photos/grid_2L4S.html","text!templates/photos/grid_4S2L.html"],function(e,n,r,i,s,o,u,a,f,l,c,h,p){var d;return d=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.initialize=function(){},i.prototype.render=function(t){var n,i,s,o,u,a;return this.photoData=t,t.size()<1?!1:(i=e.random(1,3),i!==1&&t.size()>6?(s=e.random(3,6),o=this.photoTemplateByOrientation(t,s)):(s=6,o=c),o?(a=t.first(s).map(function(e){return e.toJSON()}),u=r.render(o,{photos:a}),n=$(u).appendTo(this.el),n.find(".frame").each(function(e,t){if(a[e]!=null)return a[e].ratio>$(this).data("ratio")?$(this).addClass("fill-height"):$(this).addClass("fill-width")}),this.photoData=e(t.rest(s)),this):!1)},i.prototype.photoTemplateByOrientation=function(t,n){var r,i;i=t.first(n).map(function(e){return e.get("orientation")}).join(" ");switch(n){case 3:if(i==="landscape landscape landscape")return s;if(i==="landscape portrait portrait")return o;if(i==="portrait landscape portrait")return u;if(i==="portrait portrait landscape")return a;break;case 4:return r=e.random(1,2),r===1?l:f;case 6:return r=e.random(1,2),r===1?h:p;default:return!1}return!1},i.prototype.tweakPhotoOrientation=function(e,t){var n,r,i;t==null&&(t=1);if(e==null)return!1;for(r=0,i=e.length;r<i;r++)n=e[r],n.setOrientation(t);return e},i}(n.View)})}).call(this);