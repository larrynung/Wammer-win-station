(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["backbone","mustache","text!templates/layouts/menu.html","collections/events","com/user"],function(e,n,r,i,s){var o;return o=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.initialize=function(){return dispatch.on("user:info:save",this.renderUserInfo,this)},i.prototype.render=function(){return Router.on("route:actionEvents",this.menuEvents,this),Router.on("route:actionPhotos",this.menuPhotos,this),Router.on("route:actionCalendar",this.menuCalendar,this),Router.on("route:actionCollection",this.menuCollection,this),this.renderUserInfo(),this},i.prototype.menuEvents=function(e){return this.highlight(".nav-to-events")},i.prototype.menuPhotos=function(e){return this.highlight(".nav-to-photos")},i.prototype.menuCalendar=function(e){return this.highlight(".nav-to-calendar")},i.prototype.menuCollection=function(e){return this.highlight(".nav-to-collection")},i.prototype.highlight=function(e){return this.$("li").removeClass("active"),this.$(e).addClass("active")},i.prototype.renderUserInfo=function(){return this.$el.html(n.render(r,{username:s.get("nickname")}))},i}(e.View),new o})}).call(this);